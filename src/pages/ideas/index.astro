---
import BaseLayout from "../../layouts/BaseLayout.astro";
import SectionHeader from "../../components/SectionHeader.astro";
import { getCollection } from "astro:content";

const posts = await getCollection("ideas");
posts.sort((a, b) => (a.data.date < b.data.date ? 1 : -1));
---

<BaseLayout title="Ideas — 7WW7">
  <SectionHeader
    kicker="Ideas"
    title="Essays, updates, and field intelligence"
    description="Editorial work written for clarity, credibility, and measurable impact—similar in tone to major foundations, but with 7WW7’s equilibrium lens."
  />

  <div class="mt-10 grid gap-4 lg:grid-cols-3">
    {
      posts.map((p) => (
        <a
          href={`/ideas/${p.slug}`}
          class="rounded-3xl border border-black/5 bg-white p-6 shadow-sm hover:shadow-md transition"
        >
          <div class="text-xs font-semibold text-[var(--brand)]">
            {p.data.tag ?? "INSIGHT"}
          </div>
          <div class="mt-2 font-display text-xl">{p.data.title}</div>
          <p class="mt-2 text-sm text-[var(--muted)]">{p.data.description}</p>
          <div class="mt-4 text-sm font-semibold text-[var(--brand)]">
            Read →
          </div>
        </a>
      ))
    }
  </div>
</BaseLayout>
